<template>
    <lightning-card title="DASHBOARD" class="slds-scrollable--y" >
        <!-- <div style="width: 20%; display: inline-block;">
                <lightning-icon size="xx-small" class="slds-icon_medium" icon-name="utility:chevronright" alternative-text="chevronright" title="chevronright"></lightning-icon>Dashboard
            </div> -->
        <div>
            <div style="padding-left:16px; width: 9%; display: inline-block;">
                <b>Account Name :</b>
            </div>
            <div style="padding-left:16px; width: 20%; display: inline-block;">
                <lightning-combobox
                    name="progress"
                    label=""
                    value={defaultAccount}
                    placeholder={placeholderAccount}
                    options={optionsAccount}
                    onchange={handleChangeForAccount} >
                </lightning-combobox>
            </div>
            <div style="padding-left:170px; width: 20%; display: inline-block;">
                <b>Project Name :</b>
            </div>
            <div style="padding-left: 16px; width: 20%; display: inline-block;">
                <lightning-combobox
                    name="progress"
                    label=""
                    value={defaultName}
                    placeholder={placeholderProName}
                    options={optionsProject}
                    onchange={handleChangeForProject}
                    disabled={isDisabled} >
                </lightning-combobox>
            </div>
        </div>

        <br/><br/>

        <!--LIGHTNING PROGRESS STEP STARTS-->
        <!-- <lightning-progress-indicator current-step="2" type="base" has-error="true" variant="base">
            <lightning-progress-step label="Step 1" value="1"></lightning-progress-step>
            <lightning-progress-step label="Step 2" value="2"></lightning-progress-step>
            <lightning-progress-step label="Step 3" value="3"></lightning-progress-step>
            <lightning-progress-step label="Step 4" value="4"></lightning-progress-step>
        </lightning-progress-indicator>
        <br/> -->
        <!--LIGHTNING PROGRESS STEP ENDS-->

        <!-- TESTING STARTS -->
        <!-- <div>
            <div class="sldx-var-m_medium">
                <div class="btns"><lightning-button label=""></lightning-button></div>
                <div class="btns"><lightning-button label=""></lightning-button></div>
                <div class="btns"><lightning-button label=""></lightning-button></div>
            </div> -->
            <!-- <div class="slds-var-m-around_small slds-align_absolute-center">
                <img src={thCharImg} class="imgClass"/>
            </div> -->
        <!-- </div> -->
        <!-- TESTING ENDS -->

        <div class="action1" style="background-color: whitesmoke;">

        <!-- OVERALL BUDGET STARTS-->
        <div onclick={handleAction1} class="action11 slds-box slds-box_small active-tab" data-tab-id="tab1" style="width: 32%; display: inline-block;background-color: white; margin-left: 5px;">
            <center><h1>OVERALL BUDGET</h1></center><br/>
            <div>
                <div style="width: 50%; display: inline-block;" class="slds-p-bottom_medium slds-text-align_center">
                    <div style="border: ridge; font-weight: 400;height: 70px;width: 100px; padding: inherit; margin-left: auto; margin-right: auto;" class="slds-box slds-box_small"></div><br/>
                    YTD Pulse
                </div>

                <div style="width: 50%; display: inline-block;" class="slds-text-align_center">
                    <div style="FONT-SIZE: xxx-large;font-weight: 400;">745K</div><br/>
                    $Surplus this month
                </div>
            </div>
        </div>
        <!-- OVERALL BUDGET ENDS-->

        <!-- TOTAL ENROLLMENT 2 STARTS-->
        <div onclick={handleAction2} class="action11 slds-box slds-box_small" data-tab-id="tab2" style="width: 32%; display: inline-block;background-color: white;margin: 10px; margin: 18px;">
            <center><h1>TOTAL ENROLLMENT</h1></center><br/>
            <div>
                <div style="width: 50%; display: inline-block;" class="slds-p-bottom_medium slds-text-align_center">
                    <div style="FONT-SIZE: xxx-large;font-weight: 400;">{getEmpCount}</div><br/>
                    Employee
                </div>

                <div style="width: 50%; display: inline-block;" class="slds-text-align_center">
                    <div style="FONT-SIZE: xxx-large;font-weight: 400;">{getLivesCount}</div><br/>
                    Lives
                </div>
            </div>
        </div>
        <!-- TOTAL ENROLLMENT 2 ENDS-->

        <!-- OVERALL CLAIM COSTS 3 STARTS-->
        <div onclick={handleAction3} class="action11 slds-box slds-box_small" data-tab-id="tab3" style="width: 32.6%; display: inline-block;background-color: white; margin: -2px;">
            <center><h1>OVERALL CLAIM COSTS</h1></center><br/>
            <div>
                <div style="width: 50%; display: inline-block;" class="slds-text-align_center">
                        <lightning-icon icon-name="standard:document_reference" alternative-text="document_reference" title="document_reference"></lightning-icon>
                    <br/>
                <div style="FONT-SIZE:x-large;font-weight: 400;">$756</div><br/>
                Medical Claims
                <div style="padding-bottom: 16px;"></div>
                </div>

                <div style="width: 50%; display: inline-block;" class="slds-text-align_center">
                        <lightning-icon icon-name="standard:med_rec_statement_recommendation" alternative-text="med_rec_statement_recommendation" title="med_rec_statement_recommendation"></lightning-icon>
                    <br/>
                    <div style="FONT-SIZE:x-large;font-weight: 400;">$756</div><br/>
                    RX Claims(after rebate)
                </div>
            </div>
        </div>
        <!-- OVERALL CLAIM COSTS 3 ENDS-->

        <!--TAB 1 CONTENT STARTS-->
        <div class="tab slds-visible" data-id="tab1">
                <template if:true={tabLoaded1}>
                <lightning-layout multiple-rows="true">
                <!--LAYOUT ITEM 1 STARTS-->
                <!-- <lightning-layout-item padding="around-small" size="12">
                    <div class="slds-box slds-box_small">
                        <template for:each={repList} for:item="rep">
                            <p key={rep.Id}>
                                {rep.DeveloperName}
                            </p>
                        </template>
                        <div style="padding-left:75%">
                            <lightning-button variant="brand-outline" label="See full Report" title="See full Report" onclick={seeMoreDetails} class="slds-m-left_x-small"></lightning-button>
                            <lightning-button variant="success" label="Expert advice" title="Expert advice" onclick={askTheExpert} class="slds-m-left_x-small"></lightning-button>
                        </div>
                    </div>
                </lightning-layout-item> -->
                <!--LAYOUT ITEM 1 ENDS-->

                <!--LAYOUT ITEM 2 STARTS-->
                <lightning-layout-item padding="around-small" size="12">
                    <lightning-layout>
                        <!--DOCUMENT REPOSITORY STARTS-->
                        <lightning-layout-item padding="around-small" size="6">
                            <div class="page-section page-right slds-box slds-box_small" style="border: ridge;background-color: white;">
                                    <div style="display: inline-block;">DOCUMENT REPOSITORY</div>
                                    <div style="display: inline-block;float:right;"><lightning-button variant="Base" label="" onclick={navToFiles} value=""></lightning-button></div>
                            </div>
                            <!--FILES STARTS-->
                            <div class="slds-box slds-box_small" style="border: ridge; background-color: white;">
                                <lightning-file-upload
                                            name="fileUploader"
                                            accept={acceptedFormats}
                                            record-id={myRecordId}
                                            onuploadfinished={handleUploadFinished}
                                            multiple>
                                </lightning-file-upload>

                                <br />
                                <div class="slds-page-header__row slds-var-m-top_x-small slds-var-m-left_medium slds-grid slds-wrap">
                                    <ul class="slds-grid slds-wrap slds-gutters">
                                        <template if:true={loaded}>
                                            <template for:each={files} for:item="file">
                                                <c-preview-file-thumbnail-card key={file.Id} file={file} record-id={myRecordId} thumbnail={file.thumbnailFileCard}>
                                                </c-preview-file-thumbnail-card>
                                            </template>
                                        </template>
                                    </ul>
                                </div>
                            </div>
                            <!--FILES ENDS-->
                        </lightning-layout-item>
                        <!--DOCUMENT REPOSITORY ENDS-->

                        <!--YOUR TEAM STARTS-->
                        <lightning-layout-item padding="around-small" size="6">
                            <div class="page-section page-right slds-box slds-box_small" style="border: ridge;background-color: white;">
                                <div style="display: inline-block;">{accName} Team({conCount})</div>
                                <div style="display: inline-block;float:right"><lightning-button variant="Base" label="Create Project Team" onclick={newProjectTeam} value=""></lightning-button></div>
                            </div>
                            <div class="page-section page-right slds-box slds-box_small" style="border: ridge;background-color: white;">
                                <table class="slds-table slds-p-bottom_medium" style="background-color: white;">
                                    <template for:each={conList} for:item="con">
                                        <tr key={con.User__c}>
                                            <td class="slds-var-m-around_small" style="width:90px;">
                                                <img src={thCharImg} class="imgClass"/>
                                            </td>
                                            <td>
                                                <lightning-button variant="Base" label={con.User__r.Name} onclick={handleChange} value={con.User__c}></lightning-button>
                                                <p><lightning-icon size="x-small" icon-name="utility:call" alternative-text="call" title="call" class="slds-m-right_small"></lightning-icon>{con.User__r.Phone}</p>
                                            </td>
                                            <td><lightning-icon size="x-small" icon-name="utility:email" alternative-text="email" title="email"></lightning-icon></td>
                                            <td><lightning-icon size="x-small" icon-name="utility:quick_text" alternative-text="quick_text" title="quick_text"></lightning-icon></td>
                                        </tr>
                                    </template>
                                </table>
                                <div class="slds-p-top_medium" style="padding-left:80%"><lightning-button variant="brand-outline" label="See all" title="See all" onclick={handlePUPForContact} class="slds-m-left_x-small"></lightning-button></div>
                            </div>
                        </lightning-layout-item>
                        <!--YOUR TEAM ENDS-->
                    </lightning-layout>
                </lightning-layout-item>
                <!-- POP UP WINDOW OF CONTACTS STARTS -->
                <c-modal-Popup-For-Contact mypopupcontactdatalist={myPopupContactDataList} thcharimgforconpopup={thCharImgForConPopup} concountpopup={conCountPopup} accnameforconpopup={accNameForConPopup}></c-modal-Popup-For-Contact>
                <!-- POP UP WINDOW OF CONTACTS ENDS -->

                <!-- POP UP FOR PROJECT RECORD CREATION STARTS -->
                <c-modal-Popoup-For-Creatept></c-modal-Popoup-For-Creatept>
                <!-- <c-popup-For-Projectteam_Rec_Create></c-popup-For-Projectteam_Rec_Create> -->
                <!-- POP UP PROJECT RECORD CREATION ENDS -->
                <!--LAYOUT ITEM 2 ENDS-->

                <!--LAYOUT ITEM 3 STARTS-->
                <lightning-layout-item padding="around-small" size="12">
                    <div class="page-section page-right slds-box slds-box_small" style="border: ridge;background-color: white;">
                        <div class="page-section page-right slds-box slds-box_small" style="border: ridge;background-color: white;">
                            <div style="">LATEST NEWS FOR YOU</div>
                                <!-- <div style="display: inline-block;float:right"><lightning-button variant="Base" label="Go to Settings" onclick={navToSettings} value=""></lightning-button></div> -->
                        </div>
                    </div>
                    <lightning-layout>

                    <!-- PART 1 STARTS -->
                    <lightning-layout-item padding="around-small" size="6">
                        <div class="page-section page-right slds-box slds-box_small" style="border: ridge;background-color: white;">
                            <h2><b>Employers Alter Benefits to Attract, Retain Employees, SHRM Finds</b></h2>
                            <p>Explaining the value of the benefits mix also keeps talent onboard</p><br/>
                            <p>As hiring and keeping talented employees becomes more difficult, HR professionals are strategically leveraging employee benefits as a recruitment and retention tool, according to 2016 Strategic Benefits survey findings released by the Society for Human Resource Management (SHRM) on Nov. 30.</p><br/>
                            <p>From a randomly selected sample of SHRM members, 738 HR professionals participated in this year's survey, which was conducted in April and May. Analyses of the results are posted online in five separate reports....<span class="slds-text-link" style="background-color: white;">more</span></p>
                        </div>
                    </lightning-layout-item>
                    <!-- PART 1 ENDS -->

                    <!-- PART 2 STARTS -->
                    <lightning-layout-item padding="around-small" size="6">
                        <div class="page-section page-right slds-box slds-box_small" style="border: ridge;background-color: white;">
                            <h2><b>The pandemic is changing Employee Benefits</b></h2><br/>
                            <h2>by Tim Allen</h2><br/>
                            <p>April 07, 2021</p>
                            <br/><br/>
                            <!--riskInt IMAGE STARTS-->
                            <div><img src={riskInt} class="riskIntImgClass"/></div>
                            <!--riskInt IMAGE STARTS-->
                            <br/><br/>
                            <h2><b>Key Benefits are Expanding and Shifting</b></h2><br/>
                            <p>Those we spoke to confirmed the toll the pandemic has had on their employees and their business: decreased productivity and retention, increased absenteeism, and declining mental health. That's why almost all (98%) of the leaders we surveyed plan to newly offer or expand at least one employee benefit, prioritizing the ones workers deem most essential, and senior care benefits, flexibility around when...<span class="slds-text-link" style="background-color: white;">more</span></p>
                        </div>
                    </lightning-layout-item>
                    <!-- PART 2 ENDS -->

                    </lightning-layout>
                </lightning-layout-item>
                <!--LAYOUT ITEM 3 ENDS-->
            </lightning-layout>
            </template>
        </div>
        <!--TAB 1 CONTENT ENDS-->


        <!--TAB 2 CONTENT STARTS-->
        <div class="tab slds-hidden" data-id="tab2">
                <!--SECTION 1 STARTS-->
                <template if:true={tabLoaded2}>
                <div class="" style="" >

                    <!--FILTER STARTS-->
                    <div>
                        <div style="width: 300px; padding-right:20px; display: inline-block;">
                        <lightning-combobox
                            name="progress"
                            label=""
                            value={defaultName}
                            placeholder={placeholderLives}
                            options={optionsName}
                            onchange={handleChangeForName} >
                        </lightning-combobox>
                        </div>

                        <div style="width: 300px; padding-left: 20px; display: inline-block;">
                        <lightning-combobox
                            name="progress"
                            label=""
                            value={defaultPlan}
                            placeholder={placeholderMedPlan}
                            options={optionsPlan}
                            onchange={handleChangeForPlan} >
                        </lightning-combobox>
                        </div>
                    </div>
                    <!--FILTER ENDS--><br/>

                    <!--CENSUS DATATABLE STARTS-->
                    <div style="border: ridge;background-color: white;">
                        <lightning-datatable
                                key-field="id"
                                show-row-number-column = "true"
                                data={censusData}
                                columns={columns}
                                onrowaction={handleRowAction}>
                        </lightning-datatable>
                    </div>
                    <div class="slds-p-top_medium" style="padding-left:89%">
                        <!-- <div style="display: inline-block;"><lightning-icon class="slds-box slds-box_xx-small" icon-name="utility:share" alternative-text="share" title="share"></lightning-icon></div> -->
                        <!-- <div class="slds-p-horizontal_x-small" style="display: inline-block;" ><lightning-icon class="slds-box slds-box_xx-small"  icon-name="utility:download" alternative-text="download" title="download"></lightning-icon></div>
                        <div style="display: inline-block;"><lightning-icon icon-name="utility:print" alternative-text="print" title="print" class="slds-box slds-box_xx-small"></lightning-icon></div> -->
                        <div style="display: inline-block;"><lightning-button variant="brand-outline" label="View full report" title="View full report" onclick={handlePUPForCensusData} class="slds-m-left_x-small"></lightning-button></div>
                        <!-- <div style="display: inline-block;"><lightning-button variant="brand-outline" label="Ask the expert" title="Ask the expert" onclick={askTheExpert} class="slds-m-left_x-small"></lightning-button></div> -->
                    </div>
                    <!--CENSUS DATATABLE ENDS-->
                    <!-- POP UP WINDOW OF CENSUS RECORD LIST STARTS -->
                    <c-modal-Popup-For-Census-Records mypopupcensusdata={myPopupCensusData} columns={columns}></c-modal-Popup-For-Census-Records>
                    <!-- POP UP WINDOW OF CENSUS RECORD LIST ENDS -->
                </div>
                <!--SECTION 1 ENDS-->
                <br/><br/><br/><br/>
                <!--SECTION 2 STARTS-->
                <div class="slds-box slds-box_small" style="border: ridge;background-color: white;">
                    DEMOGRAPHICS & GROGRAPHIES
                </div>
                <!--LAYOUT ITEM 2 STARTS-->
                <lightning-layout-item padding="around-small" size="12">
                    <lightning-layout>
                        <!--DEMOGRAPHICS & GROGRAPHIES TABLE STARTS-->
                        <lightning-layout-item padding="around-small" size="4">
                            <div style="border: ridge;background-color: white;">
                                <lightning-datatable
                                    key-field="id"
                                    data={censusGeoData}
                                    show-row-number-column = "true"
                                    columns={censusGeoColumn}
                                    onrowaction={handleRowAction}>
                                </lightning-datatable>
                            </div>
                        </lightning-layout-item>
                        <!--DEMOGRAPHICS & GROGRAPHIES TABLE ENDS-->

                        <!--DEMOGRAPHICS & GROGRAPHIES MAP STARTS-->
                            <template if:true={mapMarkers}>
                                <lightning-layout-item padding="around-small" size="8">
                                    <lightning-map
                                    map-markers={mapMarkers}
                                    zoom-level={zoomLevel}
                                    list-view={listView}>
                                    </lightning-map>
                                </lightning-layout-item>
                            </template>
                        <!--DEMOGRAPHICS & GROGRAPHIES MAP ENDS-->
                    </lightning-layout>
                </lightning-layout-item>
            </template>
                <!--LAYOUT ITEM 2 ENDS-->
                <!--SECTION 2 ENDS-->
        </div>
        <!--TAB 2 CONTENT ENDS-->

        <!--TAB 3 CONTENT STARTS-->
        <div class="tab slds-hidden" data-id="tab3">
            <template if:true={tabLoaded3}>
            <lightning-layout multiple-rows="true">

                <!--LAYOUT ITEM 1 STARTS-->
                <lightning-layout-item padding="around-small" size="12">
                    <lightning-layout>
                    <!-- DATATABLE STARTS -->
                    <lightning-layout-item padding="around-small" size="6" class="" style="">
                        <div class="page-section page-right">
                            <!--FILTER STARTS-->
                            <div>
                                <div style="width: 300px; padding-right:20px;">
                                <lightning-combobox
                                    name="progress"
                                    label=""
                                    value={defaultOngoingStatus}
                                    placeholder="Large claimant"
                                    options={optionsForOngoingStatus}
                                    onchange={handleChangeOnStatus} >
                                </lightning-combobox>
                                </div>
                            </div>
                            <!--FILTER ENDS--><br/>

                            <div style="border:ridge;">
                                <lightning-datatable
                                        key-field="id"
                                        show-row-number-column = "true"
                                        data={censusData1}
                                        columns={diognosisColumn}
                                        onrowaction={handleRowAction1}>
                                </lightning-datatable>
                            </div>
                            <div class="slds-p-top_medium" style="padding-left:77%">
                                <!-- <div style="display: inline-block;"><lightning-icon class="slds-box slds-box_xx-small" icon-name="utility:share" alternative-text="share" title="share"></lightning-icon></div> -->
                                <!-- <div class="slds-p-horizontal_x-small" style="display: inline-block;" ><lightning-icon class="slds-box slds-box_xx-small"  icon-name="utility:download" alternative-text="download" title="download"></lightning-icon></div>
                                <div style="display: inline-block;"><lightning-icon icon-name="utility:print" alternative-text="print" title="print" class="slds-box slds-box_xx-small"></lightning-icon></div> -->
                                <div style="display: inline-block;"><lightning-button variant="brand-outline" label="View full report" title="View full report" onclick={handlePUPForCensusData1} class="slds-m-left_x-small"></lightning-button></div>
                                <!-- <div style="display: inline-block;"><lightning-button variant="brand-outline" label="Expert advice" title="Expert advice" onclick={askTheExpert} class="slds-m-left_x-small"></lightning-button></div> -->
                            </div>
                        </div>
                    </lightning-layout-item>
                    <!-- DATATABLE ENDS -->

                    <!-- OBSERVATIONS STARTS -->
                    <lightning-layout-item padding="around-small" size="6" class="slds-box slds-box_small" style="border: ridge;">
                        <h2><b>Observations</b></h2>

                        <!-- OBSERVATIONS 1 STARTS -->
                        <div class="page-section page-right slds-box slds-box_small" style="border: ridge;background-color: white;">
                            <p>Fourty-two (42) members have claims >$50K through May. Only fifteen(15) members reached this threshold in April</p>
                        </div>
                        <div class="slds-p-bottom_large slds-p-top_small" style="padding-left:77%">
                            <!-- <div style="display: inline-block;"><lightning-button variant="brand-outline" label="Ask the expert" title="Ask the expert" onclick={askTheExpert} class="slds-m-left_x-small"></lightning-button></div> -->
                            <div style=""><lightning-button variant="brand-outline" label="Expert advice" title="Expert advice" onclick={markAsRead} class="slds-m-left_x-small"></lightning-button></div>
                        </div>
                        <!-- OBSERVATIONS 1 ENDS -->
                        <!-- OBSERVATIONS 2 STARTS -->
                        <div class="page-section page-right slds-box slds-box_small" style="border: ridge;background-color: white;">
                            <p>Nine(9) members this month have claims >$100K through May. Five(5) members reached this threshold in April</p>
                            <p>• Fifteen (15) of the top 20 members had claims over $20K in May alone</p>
                            <p>• The top 20 year-to-date large claimants accounted for 68.7% of total medical/rx claims this month, excluding SurgeryPlus claims</p>
                        </div>
                        <div class="slds-p-bottom_large slds-p-top_small" style="padding-left:77%">
                            <!-- <div style="display: inline-block;"><lightning-button variant="brand-outline" label="Ask the expert" title="Ask the expert" onclick={askTheExpert} class="slds-m-left_x-small"></lightning-button></div> -->
                            <div style=""><lightning-button variant="brand-outline" label="Expert advice" title="Expert advice" onclick={markAsRead} class="slds-m-left_x-small"></lightning-button></div>
                        </div>
                        <!-- OBSERVATIONS 2 ENDS -->
                        <!-- OBSERVATIONS 3 STARTS -->
                        <div class="page-section page-right slds-box slds-box_small" style="border: ridge;background-color: white;">
                            <p>ProMach can expect a stop-loss reimbursement of $9,504 in May as a result of large claimant activity</p>
                            <p>• The #1 claimant has incurred $285K claims through May</p>
                        </div>
                        <div class="slds-p-bottom_large slds-p-top_small" style="padding-left:77%">
                            <!-- <div style="display: inline-block;"><lightning-button variant="brand-outline" label="Ask the expert" title="Ask the expert" onclick={askTheExpert} class="slds-m-left_x-small"></lightning-button></div> -->
                            <div style=""><lightning-button variant="brand-outline" label="Expert advice" title="Expert advice" onclick={markAsRead} class="slds-m-left_x-small"></lightning-button></div>
                        </div>
                        <!-- OBSERVATIONS 3 ENDS -->

                    </lightning-layout-item>
                    <!-- OBSERVATIONS ENDS -->

                    </lightning-layout>
                </lightning-layout-item>
                <!--LAYOUT ITEM 1 ENDS-->

            </lightning-layout>
            </template>
        </div>
        <!--TAB 3 CONTENT ENDS-->

    </div>

    </lightning-card>
</template>